(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/silhouette.742b63df.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/SVG.f1b6a570.svg"},,,function(e,t,a){e.exports=a.p+"static/media/event.1e9f6ea9.svg"},,,function(e,t,a){e.exports=a.p+"static/media/cook.2eebbe93.jpg"},,,function(e,t,a){e.exports=a(124)},,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=(a(76),a(1)),i=(a(47),a(19)),s=a(10),m=a(62),u=a.n(m),p=(a(77),Object(n.createContext)(null)),d=function(){var e=Object(n.useContext)(p);return console.log("USER CONTEXT: ",e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"landing-body"},r.a.createElement("div",{className:"landing-container"},r.a.createElement("div",{className:"landing-section"},r.a.createElement("h1",{className:"landing-title"},"Book a Cook!"),r.a.createElement("h2",{className:"landing-tagline"},"Chef made food delivered to your door!"),r.a.createElement(i.b,{to:"/login"},r.a.createElement("button",{className:"landing-btn"},"Login"))),r.a.createElement("div",{className:"landing-section"},r.a.createElement("img",{className:"landing-sectionIMG",src:u.a,alt:"landing"})))))},f=(a(83),a(49),a(9)),E=a.n(f),v=a(12),g=a(4),b=a.n(g),h=a(5);a(102);var O=function(e){var t=e.message,a=e.confirm,n=e.cancel;return r.a.createElement("div",{className:"confirm-container"},r.a.createElement("div",{className:"confirm-message"},t),r.a.createElement("div",{className:"confirm-btns"},r.a.createElement(h.a,{variant:"success",onClick:a},"Confirm"),r.a.createElement(h.a,{variant:"danger",onClick:n},"Cancel")))};var j=function(e){var t=e.cook,a=e.postID,c=e.listKey,l=e.hired,m=Object(n.useState)(""),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),j=g[0],N=g[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),S=k[0],x=k[1],C=Object(s.g)();Object(n.useEffect)((function(){var e=!0;return b.a.get("/api/get/username/".concat(t)).then((function(t){return e?d("".concat(t.data.firstName," ").concat(t.data.lastName)):console.log("not mounted")})),function(){return e=!1}}),[t]),Object(n.useEffect)((function(){console.log(l,t),l===t&&(document.getElementById("app-".concat(c)).style.backgroundColor="#d7eee1",document.getElementById("btn-".concat(c)).innerText="Hired!",document.getElementById("btn-".concat(c)).style.pointerEvents="none")}),[l,t,c]);var D=function(){var e=Object(v.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/post/reject-cook",{username:t,postID:a});case 3:n=e.sent,console.log(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"cook-name",id:"app-".concat(c)},r.a.createElement("div",null,r.a.createElement(i.b,{to:"/user/profile?user=".concat(t),className:"links"},""===p?t:p)),r.a.createElement("div",{style:{padding:"10px",width:"260px"}},j?r.a.createElement(h.a,{variant:"success",style:{marginLeft:"15px"},disabled:!0},"Hired!"):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"outline-primary",style:{marginLeft:"5px"},onClick:function(){return x(!0)}},"Book"),r.a.createElement(h.a,{variant:"outline-info",style:{marginLeft:"5px"},onClick:function(){return C.push("/user/profile?user=".concat(t))}},"Contact"),r.a.createElement(h.a,{variant:"outline-danger",style:{marginLeft:"5px"},onClick:D},"Reject"))),!0===S?r.a.createElement(O,{message:"Are you sure you want to book ".concat(t,"?"),cancel:function(e){e.preventDefault(),x(!1)},confirm:function(){x(!1);var e={cook:t,postID:a};b.a.post("/api/post/confirm-cook",e).then((function(e){console.log(e.data),N(!0)})).catch((function(e){return console.log(e)}))}}):r.a.createElement(r.a.Fragment,null)))};var N=function(e){var t=e.summary,a=e.applications,n=e.postID,c=e.listID,l=e.cook,o=function(e){var t=document.getElementById("list-".concat(e.target.id));null!==t&&(t.style.visibility="visible"===t.style.visibility?"hidden":"visible",t.style.height="visible"===t.style.visibility?"auto":"0px")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sum-container",onClick:o,id:"".concat(c)},r.a.createElement("div",{className:"summary"},t),r.a.createElement("div",{className:"applications"},r.a.createElement("button",{className:"count-applied",onClick:o,id:"".concat(c)},"pending"===l?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"num-applied"},a.length)," applied"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"num-applied"},l)," Hired!"))),r.a.createElement("ul",{className:"cook-list",id:"list-".concat(c)},a.map((function(e,t){return r.a.createElement(j,{key:t,cook:e,postID:n,listKey:t,hired:l})})))))};a(58),a(103);var y=function(e){var t=e.handleSubmit,a=e.setDate,n=e.setDescription,c=e.setPeopleAmount,l=e.setLocation,o=e.setSummary,i=e.cancelPost;return r.a.createElement("div",null,r.a.createElement("form",{className:"form-job",onSubmit:t},r.a.createElement("label",{htmlFor:"event-summary"},"Event Summary"),r.a.createElement("input",{type:"text",name:"event",id:"event-summary",className:"jp-inputs",onChange:function(e){return o(e.target.value)}}),r.a.createElement("label",{htmlFor:"event-description"},"Event Description"),r.a.createElement("textarea",{type:"text",name:"event-description",id:"event-description",className:"jp-inputs",onChange:function(e){return n(e.target.value)}}),r.a.createElement("label",{htmlFor:"people-amount"},"Amount of People"),r.a.createElement("input",{type:"text",name:"people-amount",id:"people-amount",className:"jp-inputs",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"event-location"},"Location of Event"),r.a.createElement("input",{type:"text",name:"event-location",id:"event-location",className:"jp-inputs",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"event-date"},"Date of Event"),r.a.createElement("input",{type:"date",name:"event-date",id:"event-date",className:"jp-inputs",onChange:function(e){return a(e.target.value)}}),r.a.createElement(h.a,{type:"submit",variant:"primary",style:{marginTop:"10px"},block:!0},"Create Job"),r.a.createElement(h.a,{variant:"danger",className:"delete-jf-btn",onClick:i},"x")))};var k=function(e){var t=e.username,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),E=f[0],v=f[1],g=Object(n.useState)(""),O=Object(o.a)(g,2),j=O[0],k=O[1],S=Object(n.useState)(""),x=Object(o.a)(S,2),C=x[0],D=x[1],I=Object(n.useState)(""),F=Object(o.a)(I,2),w=F[0],T=F[1],P=Object(n.useState)(""),L=Object(o.a)(P,2),A=L[0],R=L[1];return Object(n.useEffect)((function(){var e=!0;if(""!==t)return b.a.get("/api/get/my-jobs/".concat(t)).then((function(t){e&&(console.log("MY POSTS",t.data),i(t.data))})),function(){return e=!1}}),[t,u]),r.a.createElement("div",{className:"home-sec-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"post-num"},l.length)," posted Jobs.")),r.a.createElement("div",{className:"profile-job-posts"},l.length>0?l.map((function(e,t){return r.a.createElement(N,{key:t,summary:e.summary,applications:e.applications,listID:t,postID:e._id,cook:e.cook})})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(h.a,{variant:"primary",onClick:function(){return p(!0)},block:!0},"Create a Post"),u?r.a.createElement(y,{handleSubmit:function(e){e.preventDefault();var a={summary:A,description:j,location:w,peopleAmount:C,date:E,username:t};b.a.post("/post/create-post",a).then((function(){return alert("Event has been created")})).catch((function(e){return console.log(e)})),p(!1),R(""),k(""),v(""),D(""),T("")},cancelPost:function(e){e.preventDefault(),p(!1),R(""),k(""),v(""),D(""),T("")},setDate:v,setDescription:k,setSummary:R,setLocation:T,setPeopleAmount:D}):r.a.createElement(r.a.Fragment,null))},S=(a(104),a(65)),x=a.n(S);var C=function(e){var t=e.summary,a=e.description,c=e.location,l=e.date,i=e.username,s=Object(n.useState)(),m=Object(o.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(),f=Object(o.a)(d,2),E=f[0],v=f[1],g=Object(n.useState)(),b=Object(o.a)(g,2),O=b[0],j=b[1];return Object(n.useEffect)((function(){var e=new Date(l.slice(0,10)),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"long"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);j(t),v(n),p(a)}),[l]),r.a.createElement("div",{className:"event-container"},r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("img",{className:"landing-sectionIMG",src:x.a,alt:"landing",style:{width:"200px",height:"200px"}})),r.a.createElement("div",{className:"event-details"},r.a.createElement("div",{className:"event-summary"},t),r.a.createElement("div",{className:"event-location"},r.a.createElement("b",null,"Location:")," ",c),r.a.createElement("div",{className:"event-date"},r.a.createElement("b",null,"When:")," ",u," ",E,", ",O),r.a.createElement("div",{className:"event-description"},r.a.createElement("b",null,"About:")," ",a),r.a.createElement(h.a,{variant:"info",onClick:function(){return window.location.href="/user/profile?user=".concat(i)},style:{margin:"10px"}},"Contact Event Creator")))},D=a(20);var I=function(e){var t=e.username,a=Object(n.useState)(!0),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),E=f[0],v=f[1];return Object(n.useEffect)((function(){""!==t&&b.a.get("/api/get/working-events/".concat(t)).then((function(e){console.log("WORKING EVENTS",e.data),i(!1);var t=e.data.slice().sort((function(e,t){return new Date(e.date)-new Date(t.date)}));v(t),p("")})).catch((function(e){console.log(e),i(!1),v([]),p("Something went wrong!")}))}),[t]),r.a.createElement("div",{className:"home-sec-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"post-num"},E.length)," Upcoming Events")),l?r.a.createElement("div",{className:"home-spinner"},r.a.createElement(D.a,{animation:"border",variant:"info"})," "):E.length>0?E.map((function(e,t){return r.a.createElement(C,{key:t,summary:e.summary,description:e.description,location:e.location,date:e.date,username:e.username})})):r.a.createElement(r.a.Fragment,null),u||null)};a(105);var F=function(e){e.orderNum;var t=e.title,a=e.quantity,c=e.address,l=e.complete,i=e.orderID,s=Object(n.useState)(l),m=Object(o.a)(s,2),u=m[0],p=m[1],d=c.split(","),f=d[1],g=d[2],O=d[0],j=O.replace(" ","+"),N=function(){var e=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={orderID:i},e.next=5,b.a.post("/api/post/complete-order",a);case 5:n=e.sent,p(!u),console.log(u,n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("try catch error: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("tr",null,r.a.createElement("td",null,a," ",t,a>1?"s":""),r.a.createElement("td",null,r.a.createElement("a",{href:"https://www.google.com/maps/place/".concat(j,"+").concat(f,"+").concat(g),target:"_blank",rel:"noopener noreferrer"},O," ",f," ",g)),r.a.createElement("td",null,u?r.a.createElement(h.a,{variant:"primary"},"Delivered"):r.a.createElement(h.a,{variant:"secondary",onClick:N},"Incomplete")))},w=a(30);a(106);var T=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,"Account Amount")),r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"In Account"),r.a.createElement("th",null,"Total Earned"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("h3",null,r.a.createElement("span",{style:{color:"green"}},"$"),(Math.round(100*t.account)/100).toFixed(2))),r.a.createElement("td",null,r.a.createElement("h3",null,r.a.createElement("span",{style:{color:"green"}},"$"),(Math.round(100*t.totalEarned)/100).toFixed(2)))))))};var P=function(e){var t=e.username,a=e.user,c=Object(n.useState)(!0),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(n.useState)([]),E=Object(o.a)(f,2),v=E[0],g=E[1];return Object(n.useEffect)((function(){var e=!0;if(""!==t)return b.a.get("/api/get/active-orders/".concat(t)).then((function(t){if(e){console.log("ACTIVE ORDERS",t.data),s(!1);var a=t.data.slice().sort((function(e,t){return new Date(e.date)-new Date(t.date)}));g(a),d("")}})).catch((function(e){console.log(e),s(!1),g([]),d("Something went wrong!")})),function(){return e=!1}}),[t]),r.a.createElement("div",{className:"home-sec-container"},r.a.createElement(T,{user:a}),r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"post-num"},v.length)," Active Orders")),i?r.a.createElement("div",{className:"home-spinner"},r.a.createElement(D.a,{animation:"border",variant:"info"})," "):r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,v.length>0?v.map((function(e,t){return r.a.createElement(F,{key:t,orderNum:t,title:e.menuItemTitle,quantity:e.qty,address:e.address,orderID:e._id})})):r.a.createElement(r.a.Fragment,null))),p||null)};var L=function(e){var t=e.username,a=Object(n.useState)([]),c=Object(o.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e=!0;if(""!==t)return b.a.get("/api/get/customer-orders/".concat(t)).then((function(t){e&&(console.log("CUSTOMER ORDERS",t.data),i(t.data))})),function(){return e=!1}}),[t]),r.a.createElement("div",{className:"home-sec-container"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,r.a.createElement("span",{className:"post-num"},l.length)," Open Orders.")),r.a.createElement("div",{className:"profile-job-posts"},r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,l.length>0?l.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.menuItemTitle),r.a.createElement("td",null,e.qty),r.a.createElement("td",null,"On Its Way"))})):r.a.createElement(r.a.Fragment,null)))))},A=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;return console.log("HOME USER CONTEXT",t,a),t?r.a.createElement("div",null,r.a.createElement("div",{className:"greeting"},r.a.createElement("h2",null,"Hello ",t.firstName,"!")),r.a.createElement("div",{className:"home-container"},r.a.createElement(r.a.Fragment,null,t.cook?r.a.createElement(P,{username:t.username,user:t}):r.a.createElement(r.a.Fragment,null)),t.cook?r.a.createElement(r.a.Fragment,null):r.a.createElement(L,{username:t.username}),t.cook?r.a.createElement(r.a.Fragment,null):r.a.createElement(k,{username:t.username}),t.cook?r.a.createElement(I,{username:t.username}):r.a.createElement(r.a.Fragment,null))):r.a.createElement(r.a.Fragment,null)},R=(a(107),function(){var e=Object(s.g)(),t=(Object(s.h)().state||{from:{pathname:"/home"}}).from,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),p=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-container",onSubmit:function(a){a.preventDefault();var n={username:l,password:p};b.a.post("/login-user",n).then((function(a){"invalid username"===a.data?(i(""),d(""),alert("That username does not exist in our system")):"invalid password"===a.data?(d(""),alert("Invalid password")):(localStorage.setItem("user",a.data._id),e.replace(t))})).catch((function(e){console.log(e)}))}},r.a.createElement("h2",null,"LOGIN"),r.a.createElement("input",{className:"inputFields",name:"username",type:"text",placeholder:"Username",maxLength:"20",value:l,onChange:function(e){return i(e.target.value)}}),r.a.createElement("input",{className:"inputFields",name:"password",type:"password",placeholder:"Password",value:p,onChange:function(e){return d(e.target.value)}}),r.a.createElement("div",{style:{margin:"10px 0px"}},r.a.createElement("a",{href:"/register"},"Dont have an account? Register")),r.a.createElement(h.a,{type:"submit",variant:"primary",block:!0},"Login"))))}),M=(a(108),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),m=i[0],u=i[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),f=d[0],g=d[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),N=j[0],y=j[1],k=Object(n.useState)(""),S=Object(o.a)(k,2),x=S[0],C=S[1],D=Object(s.g)(),I=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(!t.firstname.match(/^[0-9a-zA-Z]+$/)),t.firstname.match(/^[0-9a-zA-Z]+$/)){e.next=5;break}return alert("First Name must only have alphanumeric characters"),c(""),e.abrupt("return",!1);case 5:if(console.log(!t.lastname.match(/^[0-9a-zA-Z]+$/)),t.lastname.match(/^[0-9a-zA-Z]+$/)){e.next=10;break}return alert("Last Name must only have alphanumeric characters"),u(""),e.abrupt("return",!1);case 10:if(console.log(!t.username.match(/^[0-9a-zA-Z]+$/)),t.username.match(/^[0-9a-zA-Z]+$/)){e.next=15;break}return alert("Username must only have alphanumeric characters"),y(""),e.abrupt("return",!1);case 15:return e.next=17,b.a.get("/api/get/username/".concat(t.username));case 17:if(a=e.sent,console.log(null!==a.data),null===a.data){e.next=22;break}return alert("Username already exists in the system. Please choose another username"),e.abrupt("return",!1);case 22:return e.next=24,b.a.get("/api/get/email/".concat(t.email));case 24:if(a=e.sent,console.log(null!==a.data),null===a.data){e.next=29;break}return alert("Email already exists in the system. Please choose another email"),e.abrupt("return",!1);case 29:if(console.log(t.password.length<8),!(t.password.length<8)){e.next=33;break}return alert("Password must be atleast 8 characters"),e.abrupt("return",!1);case 33:return e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("register user"),n={firstname:a,lastname:m,email:f,username:N,password:x},e.next=5,I(n);case 5:!0===e.sent&&(console.log("post started"),b.a.post("/post/register",n).then((function(e){"200"===e.status?console.log("FAILURE"):(console.log(e),D.push("/home"))})).catch((function(e){console.log(e)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-container",onSubmit:F},r.a.createElement("h2",null,"Register"),r.a.createElement("input",{name:"firstname",type:"text",placeholder:"First Name",className:"inputFields",maxLength:"40",value:a,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("input",{name:"lastname",type:"text",placeholder:"Last Name",className:"inputFields",maxLength:"40",value:m,onChange:function(e){return u(e.target.value)},required:!0}),r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",className:"inputFields",maxLength:"40",value:f,onChange:function(e){return g(e.target.value)},required:!0}),r.a.createElement("input",{name:"username",type:"text",placeholder:"Username",className:"inputFields",maxLength:"20",value:N,onChange:function(e){return y(e.target.value)},required:!0}),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",className:"inputFields",value:x,onChange:function(e){return C(e.target.value)},required:!0}),r.a.createElement(h.a,{type:"submit",variant:"primary",block:!0},"Register"))))});a(109),a(110);var U=function(e){var t=e.summary,a=e.description,c=e.peopleAmount,l=e.location,i=e.eventDate,m=e.userPosted,u=e.uniqueID,d=e.applications,f=Object(n.useContext)(p),E=f.user,v=f.menu;console.log("JOB POST",E,v);var g=Object(s.g)(),O=Object(n.useState)(),j=Object(o.a)(O,2),N=j[0],y=j[1],k=Object(n.useState)(),S=Object(o.a)(k,2),x=S[0],C=S[1],D=Object(n.useState)(),I=Object(o.a)(D,2),F=I[0],w=I[1],T=Object(n.useState)(!1),P=Object(o.a)(T,2),L=P[0],A=P[1];return Object(n.useEffect)((function(){var e=new Date(i.slice(0,10)),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"long"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);w(t),C(n),y(a),d.length>0&&null!==E&&d.forEach((function(e){e===E.username&&A(!0)}))}),[i,E]),r.a.createElement("div",{className:"post-card"},r.a.createElement("div",{className:"post-summary"},t),r.a.createElement("div",{className:"inline-info"},r.a.createElement("div",{className:"post-people"},c," People"),r.a.createElement("div",{className:"post-location"},l),r.a.createElement("div",{className:"post-date"},N," ",x,", ",F)),r.a.createElement("div",{className:"post-description"},a),L?r.a.createElement(h.a,{variant:"success",id:"jp-btn"},"Applied!"):r.a.createElement(h.a,{variant:"primary",onClick:function(e){if(null===E)alert("You must login to apply for jobs"),g.push("/login");else{var t={username:E.username,uniqueID:u},a=e.target;b.a.post("api/post/apply/job-post",t).then((function(e){console.log(e),a.innerText="Applied!",a.style.backgroundColor="green",a.style.pointerEvents="none"})).catch((function(e){return console.log(e)}))}},id:"jp-btn"},"Apply!"),r.a.createElement("div",{className:"post-username"},"Created by: ",m))};var B=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("JOB POSTINGS USER CONTEXT",t,a);var c=Object(n.useState)([]),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(!0),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),g=v[0],h=v[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),N=j[0],k=j[1],S=Object(n.useState)(""),x=Object(o.a)(S,2),C=x[0],I=x[1],F=Object(n.useState)(""),w=Object(o.a)(F,2),T=w[0],P=w[1],L=Object(n.useState)(""),A=Object(o.a)(L,2),R=A[0],M=A[1],B=Object(n.useState)(""),q=Object(o.a)(B,2),$=q[0],V=q[1],_=Object(n.useState)("hidden"),X=Object(o.a)(_,2),G=X[0],z=X[1];Object(n.useEffect)((function(){var e=!0;return b.a.get("api/get/jobs").then((function(t){if(console.log(t.data),e){f(!1);var a=t.data.slice().sort((function(e,t){return new Date(e.date)-new Date(t.date)}));s(a),h("")}})).catch((function(e){console.log(e),f(!1),s([]),h("Something went wrong!")})),function(){return e=!1}}),[]),Object(n.useEffect)((function(){var e=document.getElementById("job-post-form");null!==e&&(e.style.visibility=G)}),[G]);var H=function(){z("visible"===G?"hidden":"visible")},J=function(){console.log("clicked"),k(""),I(""),M(""),V(""),P(""),H()};return r.a.createElement("div",null,r.a.createElement("div",{className:"jp-container"},r.a.createElement("div",{className:"posts-container"},d?r.a.createElement("div",{className:"job-post-spinner"},r.a.createElement(D.a,{animation:"border",variant:"info"})," "):i.map((function(e,t){return r.a.createElement(U,{key:t,uniqueID:e._id,summary:e.summary,description:e.description,peopleAmount:e.peopleAmount,location:e.location,eventDate:e.date,userPosted:e.username,applications:e.applications,cancelPost:J})})),g||null),r.a.createElement("div",{id:"job-post-form"},r.a.createElement(y,{setSummary:k,setPeopleAmount:V,setDescription:I,setLocation:P,setDate:M,handleSubmit:function(e){e.preventDefault();var a={summary:N,description:C,location:T,peopleAmount:$,date:R,username:t.username};b.a.post("/post/create-post",a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));var n=i;n.push(a),s(n),console.log(R),H()},cancelPost:J}))))},q=(a(111),a(15)),$=a.n(q);a(59);var V=function(e){var t=e.input,a=e.itemNum,c=e.photo,l=e.files,i=e.photos,s=e.setFiles,m=e.setPhotos,u=e.username,p=e.editable,d=void 0!==p&&p,f=(e.dbID,e.deletePhoto),E=e.setModified,v=Object(n.useRef)(),g=Object(n.useState)(!1),b=Object(o.a)(g,2),h=b[0],j=b[1];return r.a.createElement("div",{className:"photo"},!0===d?r.a.createElement("button",{className:"delete-mi-btn",onClick:function(e){e.preventDefault(),j(!0)}},"x"):r.a.createElement(r.a.Fragment,null),!0===t?r.a.createElement("img",{src:""===c?$.a:"/api/get/image/".concat(c),alt:"profile-img",id:"photo-".concat(a),onClick:function(){return v.current.click()}}):r.a.createElement("img",{src:""===c?$.a:"/api/get/image/".concat(c),alt:"profile-img",id:"photo-".concat(a),style:{cursor:"auto"}}),!0===t?r.a.createElement("input",{ref:v,type:"file",onChange:function(e){E(!0),console.log(e.target);var t=l,n=i;t.push(e.target.files[0]),s(t);var r="photo-".concat(a);n[a]="".concat(u,"-").concat(e.target.files[0].name),m(n);var c=document.getElementById(r),o=new FileReader;o.addEventListener("load",(function(){c.src=o.result}),!1),e.target.files[0]&&o.readAsDataURL(e.target.files[0]),console.log(l)},style:{display:"none"},id:"fi-".concat(a)}):r.a.createElement(r.a.Fragment,null),!0===h?r.a.createElement(O,{message:"Are you sure you want to delete photo ".concat(a+1,"?"),cancel:function(e){e.preventDefault(),j(!1)},confirm:function(){f(a),j(!1)}}):r.a.createElement(r.a.Fragment,null))};var _=function(e){var t=e.photos,a=e.files,c=e.setPhotos,l=e.setFiles,i=e.username,s=e.setModified,m=Object(n.useState)(0),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(n.useRef)(),E=(Object(n.useRef)(!1),function(e){var a=t;a.splice(e,1),c(a),d(p+1),s(!0)});return r.a.createElement(r.a.Fragment,null,t.map((function(e,n){return r.a.createElement(V,{key:n,input:!0,itemNum:n,photo:e,files:a,photos:t,setFiles:l,setPhotos:c,username:i,editable:!0,deletePhoto:E,setModified:s})})),r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:"/api/get/image/add-photo.png",alt:"createItem",style:{width:"250px",height:"250px",cursor:"pointer"},id:"add-photo-btn",onClick:function(){return f.current.click()}})),r.a.createElement("input",{ref:f,type:"file",onChange:function(e){var n=a;n.push(e.target.files[0]),l(n);var r=t;r.push("".concat(i,"-").concat(e.target.files[0].name)),c(r),s(!0)},style:{display:"none"},id:"fi-".concat(t.length)}))};a(60);var X=function(e){var t=e.title,a=e.description,c=e.price,l=e.picture,i=e.itemNum,s=e.dbID,m=e.deleteMenuItem,u=Object(n.useState)(!1),p=Object(o.a)(u,2),d=p[0],f=p[1],g=function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),m(s,i),f(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"menu-item-container"},r.a.createElement("button",{className:"delete-mi-btn",onClick:function(e){e.preventDefault(),f(!0)}},"x"),r.a.createElement("div",{className:"menu-photo"},r.a.createElement("img",{src:"/api/get/image/".concat(l),alt:" "})),r.a.createElement("div",{className:"menu-item-details"},r.a.createElement("div",{className:"menu-item-title",id:"menu-item-title-".concat(i)},t),r.a.createElement("div",{className:"menu-item-rating",id:"menu-item-title-".concat(i)},"5 stars"),r.a.createElement("div",{className:"menu-item-description",id:"menu-item-description-".concat(i)}," ",a," "),r.a.createElement("div",{className:"menu-item-location",id:"menu-item-location-".concat(i)},"Mansfield, Texas"," "),r.a.createElement("div",{className:"menu-item-price",id:"menu-item-price-".concat(i)},"$",c)),!0===d?r.a.createElement(O,{message:'Are you sure you want to delete Menu Item "'.concat(t,'"?'),confirm:g,cancel:function(e){e.preventDefault(),f(!1)}}):r.a.createElement(r.a.Fragment,null))};var G=function(e){var t=e.username,a=e.files,c=e.setFiles,l=e.uploadImage,i=e.createMenuItem,s=e.identification,m=Object(n.useState)(""),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),v=E[0],g=E[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),O=h[0],j=h[1],N=Object(n.useState)("add-photo.png"),y=Object(o.a)(N,2),k=y[0],S=y[1],x=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"create-menu-item-container"},r.a.createElement("div",{className:"create-menu-photo"},r.a.createElement("img",{src:"/api/get/image/".concat(k),onClick:function(){return x.current.click()},id:"create-menu-photo",style:{cursor:"pointer"},alt:"".concat(k)}),r.a.createElement("input",{ref:x,onChange:function(e){var n=a;n.push(e.target.files[0]),S("".concat(t,"-").concat(e.target.files[0].name)),c(n);var r=document.getElementById("create-menu-photo"),l=new FileReader;l.addEventListener("load",(function(){return r.src=l.result}),!1),e.target.files[0]&&l.readAsDataURL(e.target.files[0])},type:"file",style:{display:"none"}})),r.a.createElement("div",{className:"menu-item-details"},r.a.createElement("div",{className:"menu-item-title"},r.a.createElement("input",{className:"user-input",type:"text",id:"create-menu-title",placeholder:"Title",value:v,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"menu-item-description"},r.a.createElement("input",{className:"user-input",type:"text",id:"create-menu-description",placeholder:"Description",value:p,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"menu-item-price"},r.a.createElement("input",{className:"user-input",type:"text",id:"create-menu-price",placeholder:"Price",value:O,onChange:function(e){return j(e.target.value)}})),r.a.createElement("button",{className:"menu-item-btn",onClick:function(e){e.preventDefault();var a={userID:s,username:t,title:v,description:p,price:O,picture:k};console.log("CREATE MENU ITEM DATA",a),l(),i(a),S("add-photo.png"),j(""),g(""),d("")}},"Create Item"))))};var z=function(e){var t=e.identification,a=e.username,c=e.menuItems,l=e.setMenuItems,i=e.itemsToBeDeleted,s=e.setItemsToBeDeleted,m=e.files,u=e.setFiles,p=e.setTempMenuItems,d=e.tempMenuItems,f=e.uploadImage,g=e.setModified,b=Object(n.useState)(0),h=Object(o.a)(b,2),O=h[0],j=h[1],N=(Object(n.useRef)(!1),function(){var e=Object(v.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,a),(n=i).push(t),s(n),console.log(a),r=c,console.log(r),r.splice(a,1),l(r),j(O+1),g(!0);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());return r.a.createElement(r.a.Fragment,null,c.length>0?c.map((function(e,t){return r.a.createElement(X,{key:t,title:e.title,description:e.description,price:e.price,picture:e.picture,username:e.username,itemNum:t,menuItems:c,setMenuItems:l,dbID:e._id,deleteMenuItem:N})})):r.a.createElement(r.a.Fragment,null,"No Menu Items"),r.a.createElement(G,{identification:t,username:a,files:m,setFiles:u,uploadImage:f,itemsToBeDeleted:i,setItemsToBeDeleted:s,createMenuItem:function(e){var t=d,a=c;t.push(e),a.push(e),f(),l(a),p(t),j(O+1),console.log("createItem",c),g(!0)}}))};var H=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("PROFILE USER CONTEXT",t,a);var c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)([]),u=Object(o.a)(m,2),d=u[0],f=u[1],g=Object(n.useState)([]),O=Object(o.a)(g,2),j=O[0],N=O[1],y=Object(n.useState)([]),k=Object(o.a)(y,2),S=k[0],x=k[1],C=Object(n.useState)(""),D=Object(o.a)(C,2),I=D[0],F=D[1],w=Object(n.useState)(""),T=Object(o.a)(w,2),P=T[0],L=T[1],A=Object(n.useState)(""),R=Object(o.a)(A,2),M=R[0],U=R[1],B=Object(n.useState)(""),q=Object(o.a)(B,2),V=q[0],X=q[1],G=Object(n.useState)(""),H=Object(o.a)(G,2),J=H[0],Z=H[1],K=Object(n.useState)(""),Q=Object(o.a)(K,2),W=Q[0],Y=Q[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],ie=Object(n.useState)(""),se=Object(o.a)(ie,2),me=se[0],ue=se[1],pe=Object(n.useState)([]),de=Object(o.a)(pe,2),fe=de[0],Ee=de[1],ve=Object(n.useState)(""),ge=Object(o.a)(ve,2),be=ge[0],he=ge[1],Oe=Object(n.useState)([]),je=Object(o.a)(Oe,2),Ne=je[0],ye=je[1],ke=Object(n.useState)(""),Se=Object(o.a)(ke,2),xe=Se[0],Ce=Se[1],De=Object(n.useRef)();Object(n.useEffect)((function(){null!==t&&(F(t.firstName),L(t.lastName),U(t.username),X(t.email),Z(t.cook),Y(t.cookDescription),ne(t.cookSpecialty),oe(t.cookPrice),ue(t.picture),Ee(t.photos),he(t._id),s(!1),Ce(t.number)),null!==a&&ye(a)}),[t,a]),Object(n.useEffect)((function(){s(!0)}),[I,P,V,M,J,W,ae,le,me,be,xe]);var Ie=function(){d.forEach(function(){var e=Object(v.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",a),n.append("username",t.username),e.next=5,b.a.post("/upload-img",n);case 5:r=e.sent,console.log(r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Fe=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),!0===we(xe)&&(Ie(),console.log(fe),a={firstname:I,lastname:P,username:M,email:V,cook:J,cookSpecialty:ae,cookDescription:W,cookPrice:le,picture:me,photos:fe,number:xe},b.a.post("/update-user",a).catch((function(e){return console.log(e)})),b.a.post("/post/add-menu-items",j),S.length>0&&S.map((function(e){return b.a.post("/api/post/remove-item/".concat(e))})),s(!1),alert("Profile Updated"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?(Ce("("+t[1]+") "+t[2]+"-"+t[3]),!0):(alert("Invalid Phone Number"),!1)};return t?r.a.createElement("div",null,r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"user-info"},r.a.createElement("form",{className:"profile-form",onSubmit:Fe,formEncType:"multipart/form-data"},r.a.createElement("div",{className:"profile-header-title"},"User Information"),r.a.createElement("div",{className:"user-description"},r.a.createElement("div",{className:"profile-picture"},r.a.createElement("img",{src:""===t.picture?$.a:"/api/get/image/".concat(me),alt:"profile-img",id:"profile-img",onClick:function(){return De.current.click()}}),r.a.createElement("input",{ref:De,type:"file",onChange:function(e){var a=d;a.push(e.target.files[0]),f(a),ue("".concat(t.username,"-").concat(e.target.files[0].name));var n=document.getElementById("profile-img"),r=new FileReader;r.addEventListener("load",(function(){return n.src=r.result}),!1),e.target.files[0]&&r.readAsDataURL(e.target.files[0]),s(!0)},style:{display:"none"},id:"profile-file"})),r.a.createElement("div",{className:"profile-about"},r.a.createElement("label",{htmlFor:"firstname"},"First Name"),r.a.createElement("input",{name:"firstname",id:"firstName",type:"text",className:"user-input",maxLength:"40",defaultValue:I,onChange:function(e){return F(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"lastname"},"Last Name"),r.a.createElement("input",{name:"lastname",id:"lastName",type:"text",className:"user-input",maxLength:"40",defaultValue:P,onChange:function(e){return L(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{name:"username",id:"username",type:"text",className:"user-input",maxLength:"40",defaultValue:M,onChange:function(e){return U(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{name:"email",id:"email",type:"text",className:"user-input",maxLength:"40",defaultValue:V,onChange:function(e){return X(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"number"},"Phone Number"),r.a.createElement("input",{name:"number",id:"number",type:"tel",className:"user-input",maxLength:"15",defaultValue:xe,onChange:function(e){return Ce(e.target.value)},required:!0}),r.a.createElement("div",{className:"cook-toggle"},r.a.createElement("span",{className:"toggle-text"},"Are you a Cook?  "),J?r.a.createElement(h.a,{variant:"success",onClick:function(e){return Z(!1)}},"Yes"):r.a.createElement(h.a,{variant:"secondary",onClick:function(e){return Z(!0)}},"No")))),J?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header-title"},"Cook Information"),r.a.createElement("div",{className:"cook-information",id:"cook-info"},r.a.createElement("div",{className:"cook-about"},r.a.createElement("label",{htmlFor:"specialty"},"Specialty"),r.a.createElement("input",{name:"cookSpecialty",id:"cookSpecialty",type:"text",placeholder:"Specialty",className:"cook-input",maxLength:"40",defaultValue:ae,onChange:function(e){return ne(e.target.value)}}),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{name:"cookDescription",id:"cookDescription",type:"text",placeholder:"Description",className:"cook-input",defaultValue:W,onChange:function(e){return Y(e.target.value)}}),r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{name:"cookPrice",id:"cookPrice",type:"text",placeholder:"Price",className:"cook-input",maxLength:"40",defaultValue:le,onChange:function(e){return oe(e.target.value)}})))):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"profile-header-title"},"Photos"),r.a.createElement("div",{className:"photos-container",id:"cook-info"},r.a.createElement("div",{className:"images"},r.a.createElement(_,{photos:fe,files:d,setPhotos:Ee,setFiles:f,username:t.username,setModified:s}))),J?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-header-title"},"Menu Items"),r.a.createElement("div",{className:"menu-container"},r.a.createElement(z,{identification:be,username:t.username,menuItems:Ne,setMenuItems:ye,editable:!0,uploadImage:Ie,files:d,setFiles:f,setTempMenuItems:N,tempMenuItems:j,itemsToBeDeleted:S,setItemsToBeDeleted:x,setModified:s}))):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"update-btn-container"},i?r.a.createElement(h.a,{type:"submit",className:"user-update-btn",id:"profile-update-btn",variant:"primary",block:!0},"Update"):r.a.createElement(h.a,{className:"user-update-btn",id:"profile-update-btn",variant:"secondary",block:!0,disabled:!0},"Update")))))):r.a.createElement(r.a.Fragment,null)};a(61);var J=function(e){var t=e.firstname,a=e.lastname,n=e.specialty,c=e.price,l=e.description,o=(e.latitude,e.longitude,e.username),i=e.picture;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile"},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},r.a.createElement("div",{className:"pictureDiv"},r.a.createElement("img",{src:""===i?$.a:"/api/get/image/".concat(i),className:"picture",alt:"profile pic"})),r.a.createElement("div",{className:"cookName"},r.a.createElement("h2",null,t," ",a))),r.a.createElement("div",{className:"positionTitle"},r.a.createElement("h3",null,n)),r.a.createElement("div",{className:"cookPrice"},r.a.createElement("h4",null,"$",c)),r.a.createElement("div",{className:"cookDescription"},r.a.createElement("p",null,l)),r.a.createElement("div",null,r.a.createElement(h.a,{variant:"info",onClick:function(){return window.location.href="/user/profile?user=".concat(o)}},"Contact"))))};a(112);var Z=function(){return r.a.createElement("div",{className:"profileFilter"},r.a.createElement("span",{className:"filterTitle"},"Cooks Near You"))};a(113);var K=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("COOKS USER CONTEXT",t,a);var c=Object(n.useState)([]),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(!0),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),g=v[0],h=v[1];return Object(n.useEffect)((function(){var e=!0;return b.a.get("api/get/cooks").then((function(t){e&&(f(!1),s(t.data),h(""))})).catch((function(e){f(!1),s([]),h("Something went wrong!")})),function(){return e=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cooks-container"},r.a.createElement(Z,null),d?r.a.createElement("div",{className:"home-spinner"},r.a.createElement(D.a,{animation:"border",variant:"info"})," "):i.map((function(e,t){return r.a.createElement(J,{key:t,firstname:e.firstName,lastname:e.lastName,specialty:e.cookSpecialty,price:e.cookPrice,description:e.cookDescription,latitude:e.latitude,longitude:e.longitude,username:e.username,picture:e.picture})})),g||null))};a(114);var Q=function(e){var t=e.input,a=e.itemNum,c=e.photo,l=e.files,o=e.photos,i=e.setFiles,s=e.setPhotos,m=e.username,u=e.editable,p=void 0!==u&&u,d=(e.dbID,e.deletePhoto),f=Object(n.useRef)();return r.a.createElement("div",{className:"photo"},!0===p?r.a.createElement("button",{className:"delete-mi-btn",onClick:function(e){e.preventDefault(),d(a)}},"x"):r.a.createElement(r.a.Fragment,null),!0===t?r.a.createElement("img",{src:""===c?$.a:"/api/get/image/".concat(c),alt:"profile-img",id:"photo-".concat(a),onClick:function(){return f.current.click()}}):r.a.createElement("img",{src:""===c?$.a:"/api/get/image/".concat(c),alt:"profile-img",id:"photo-".concat(a),style:{cursor:"auto"}}),!0===t?r.a.createElement("input",{ref:f,type:"file",onChange:function(e){console.log(e.target);var t=l,n=o;t.push(e.target.files[0]),i(t);var r="photo-".concat(a);n[a]="".concat(m,"-").concat(e.target.files[0].name),s(n);var c=document.getElementById(r),u=new FileReader;u.addEventListener("load",(function(){c.src=u.result}),!1),e.target.files[0]&&u.readAsDataURL(e.target.files[0]),console.log(l)},style:{display:"none"},id:"fi-".concat(a)}):r.a.createElement(r.a.Fragment,null))};var W=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("USERPROFILE USER CONTEXT",t,a);var c=Object(n.useState)(""),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),g=v[0],O=v[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),k=N[0],S=N[1],x=Object(n.useState)(""),C=Object(o.a)(x,2),D=C[0],I=C[1],F=Object(n.useState)(""),w=Object(o.a)(F,2),T=w[0],P=w[1],L=Object(n.useState)(""),A=Object(o.a)(L,2),R=A[0],M=A[1],U=Object(n.useState)(""),B=Object(o.a)(U,2),q=B[0],V=B[1],_=Object(n.useState)(""),X=Object(o.a)(_,2),G=X[0],z=X[1],H=Object(n.useState)(""),J=Object(o.a)(H,2),Z=J[0],K=J[1],W=Object(n.useState)(""),Y=Object(o.a)(W,2),ee=Y[0],te=Y[1],ae=Object(n.useState)(""),ne=Object(o.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(""),oe=Object(o.a)(le,2),ie=oe[0],se=oe[1],me=Object(n.useState)(""),ue=Object(o.a)(me,2),pe=ue[0],de=ue[1],fe=Object(n.useState)(""),Ee=Object(o.a)(fe,2),ve=Ee[0],ge=Ee[1],be=Object(n.useState)(""),he=Object(o.a)(be,2),Oe=he[0],je=he[1];return Object(n.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e);S(t.get("user")),b.a.get("/api/get/username/".concat(k)).then((function(e){console.log(e.data),O(e.data.email),s(e.data.firstName),f(e.data.lastName),P(e.data.cookSpecialty),M(e.data.cookDescription),V(e.data.cookPrice),z(e.data.cook),K(e.data.picture),je(e.data.photos),I(e.data.number)})).catch((function(e){return console.log(e)}))}),[k]),""!==k?r.a.createElement("div",{className:"user-profile-container"},r.a.createElement("div",{className:"user-information"},r.a.createElement("div",{className:"user-picture"},r.a.createElement("img",{src:""===Z?$.a:"/api/get/image/".concat(Z),alt:"cook"})),r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:"full-name"},i," ",d),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{className:"email"},g),r.a.createElement("div",{className:"phone"},D)),t?r.a.createElement(r.a.Fragment,null):r.a.createElement(h.a,{variant:"primary",onClick:function(e){var t=document.getElementById("book-form");t.style.visibility="visible"===t.style.visibility?"hidden":"visible"},block:!0},"Request to Hire"))),G?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-information"},r.a.createElement("div",{className:"cook-details"},r.a.createElement("div",{className:"cook-specialty"},r.a.createElement("b",null,"Specialization:")," ",T),r.a.createElement("div",{className:"cook-description"},r.a.createElement("b",null,"Description:")," ",R),r.a.createElement("div",{className:"cook-price"},r.a.createElement("b",null,"Price:")," $",q)))):r.a.createElement(r.a.Fragment,null),Oe?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"photo-gallery"},Oe.map((function(e,t){return r.a.createElement(Q,{key:t,className:"photo",id:"photo-".concat(t),input:!1,itemNum:t,handleImgChange:function(){return console.log("temp")},photo:e})}))),r.a.createElement("div",{id:"book-form"},r.a.createElement(y,{setSummary:te,setPeopleAmount:ge,setDescription:ce,setLocation:se,setDate:de,handleSubmit:function(e){e.preventDefault();var t={summary:ee,description:re,location:ie,date:pe,username:"",peopleAmount:ve,cook:k};b.a.post("/post/create-post",t).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),document.getElementById("book-form").style.visibility="hidden",console.log("submitted")},cancelPost:function(e){console.log("cancelled"),document.getElementById("book-form").style.visibility="hidden"}}))):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null)};a(115),a(116);var Y=function(e){var t=e.qty,a=e.setQty;return r.a.createElement("div",{className:"num-input-container"},r.a.createElement("button",{className:"num-input-btns",style:{backgroundColor:"rgb(224, 115, 115)"},onClick:function(e){e.preventDefault(),t>1&&a(t-1)}},"-"),r.a.createElement("div",{className:"num-input"},r.a.createElement("input",{type:"text",id:"qty-input",readOnly:!0,value:t})),r.a.createElement("button",{className:"num-input-btns",style:{backgroundColor:"rgb(107, 201, 107)"},onClick:function(e){e.preventDefault(),a(t+1)}},"+"))},ee=a(23);var te=function(e){var t=e.cancel,a=e.price,c=e.title,l=e.picture,i=e.dbID,s=e.username,m=e.chefUsername,u=Object(n.useState)(1),p=Object(o.a)(u,2),d=p[0],f=p[1],g=Object(n.useState)(""),h=Object(o.a)(g,2),O=h[0],j=h[1],N=Object(n.useState)(""),y=Object(o.a)(N,2),k=y[0],S=y[1],x=Object(n.useState)(""),C=Object(o.a)(x,2),D=C[0],I=C[1],F=Object(n.useState)(""),w=Object(o.a)(F,2),T=w[0],P=w[1],L=Object(n.useState)(""),A=Object(o.a)(L,2),R=A[0],M=A[1],U=Object(ee.useStripe)(),B=Object(ee.useElements)(),q=((parseInt(a)+5+.08*parseInt(a))*d).toFixed(2),$=function(){var e=Object(v.a)(E.a.mark((function e(t){var a,n,r,o,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.get("/secret/item/".concat(i,"/").concat(d));case 3:return a=e.sent,n=a.data.client_secret,e.next=7,U.confirmCardPayment("".concat(n),{payment_method:{type:"card",card:B.getElement(ee.CardNumberElement),billing_details:{name:"".concat(O)}}});case 7:if((r=e.sent).error)alert("Error! ".concat(r.error.message));else{o={menuItemID:i,menuItemTitle:c,qty:d,picture:l,address:"".concat(k,", ").concat(D,", ").concat(T,", ").concat(R),chefUsername:m,customerUsername:""===s?O:s};try{u=b.a.post("/api/post/create-order",o),alert("Order has been placed!"),console.log("paid!",r,u)}catch(p){alert("Try catch error: ".concat(p))}}case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"order-container"},r.a.createElement("div",{className:"order-photo"},r.a.createElement("img",{src:"/api/get/image/".concat(l),alt:" "})),r.a.createElement("div",{className:"order-total"},c),r.a.createElement(Y,{qty:d,setQty:f}),r.a.createElement("div",{className:"billing-header"},"Drop Off Address"),r.a.createElement("input",{type:"text",id:"street-input",placeholder:"Street",onChange:function(e){return S(e.target.value)},required:!0}),r.a.createElement("div",{className:"card-details"},r.a.createElement("input",{className:"small-input",type:"text",id:"fity-input",placeholder:"City",onChange:function(e){return I(e.target.value)},required:!0}),r.a.createElement("input",{className:"small-input",type:"text",id:"state-input",placeholder:"State",onChange:function(e){return P(e.target.value)},required:!0}),r.a.createElement("input",{className:"small-input",type:"text",id:"zip-input",placeholder:"Zip",onChange:function(e){return M(e.target.value)},required:!0})),r.a.createElement("div",{className:"billing-header"},"Billing Information"),r.a.createElement("input",{type:"text",id:"card-name-input",placeholder:"Name on Card",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-element-container"},r.a.createElement(ee.CardNumberElement,null)),r.a.createElement("div",{className:"card-details"},r.a.createElement("div",{className:"detail-sec"},r.a.createElement("div",{className:"card-element-exp"},r.a.createElement(ee.CardExpiryElement,{id:"cardexpiry"}))),r.a.createElement("div",{className:"detail-sec"},r.a.createElement("div",{className:"card-element-cvc"},r.a.createElement(ee.CardCvcElement,{id:"cardcvc"}))))),r.a.createElement("div",{className:"order-total",id:"total-price"},"Total: $",q),r.a.createElement("div",{className:"order-btns"},r.a.createElement("button",{className:"order-btn",onClick:$,disabled:!U},"Order"),r.a.createElement("button",{className:"cancel-btn",onClick:t,disabled:!U},"x")))},ae=a(66),ne=a.n(ae);var re=function(e){var t=e.title,a=e.description,c=e.price,l=e.chefUsername,i=e.picture,s=e.itemNum,m=e.dbID,u=(e.shadow,e.setShadow),p=e.username,d=Object(n.useState)(!1),f=Object(o.a)(d,2),E=f[0],v=f[1];return console.log("USERNAME",p),r.a.createElement("div",{className:"menu-item-container"},r.a.createElement("div",{className:"menu-photo"},r.a.createElement("img",{src:"/api/get/image/".concat(i),alt:" "})),r.a.createElement("div",{className:"menu-item-details"},r.a.createElement("div",{className:"menu-item-title",id:"menu-item-title-".concat(s)},t),r.a.createElement("div",{className:"menu-item-rating",id:"menu-item-title-".concat(s)},r.a.createElement(ne.a,{rating:5,starDimension:"20px",starRatedColor:"gold"})),r.a.createElement("div",{className:"menu-item-description",id:"menu-item-description-".concat(s)}," ",a," "),r.a.createElement("div",{className:"menu-item-location",id:"menu-item-location-".concat(s)},"Mansfield, Texas"," "),r.a.createElement("div",{className:"menu-item-price",id:"menu-item-price-".concat(s)},"$",c),r.a.createElement(h.a,{style:{margin:"10px"},onClick:function(e){e.preventDefault(),console.log("order!"),v(!0),u(!0)}},"Order!")),E?r.a.createElement(te,{cancel:function(e){e.preventDefault(),v(!1),u(!1)},price:c,title:t,picture:i,dbID:m,chefUsername:l,username:p}):r.a.createElement(r.a.Fragment,null))};a(119);var ce=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("MENU USER CONTEXT",t,a);var c=Object(n.useState)([]),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(!0),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),g=v[0],h=v[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),N=j[0],y=j[1];return Object(n.useEffect)((function(){var e=!0;return b.a.get("api/get/menu").then((function(t){e&&(f(!1),s(t.data),h(""))})).catch((function(e){f(!1),s([]),h("Something went wrong!")})),function(){return e=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-page-container"},d?r.a.createElement("div",{className:"home-spinner"},r.a.createElement(D.a,{animation:"border",variant:"info"})," "):i.map((function(e,a){return r.a.createElement(re,{key:a,title:e.title,description:e.description,price:e.price,picture:e.picture,chefUsername:e.username,itemNum:a,dbID:e._id,setShadow:y,shadow:N,username:null!==t?t.username:""})})),g||null),N?r.a.createElement("div",{className:"shadow"},"Test"):r.a.createElement(r.a.Fragment,null))},le=a(67),oe=a(36),ie=a(24),se=a(69);a(120);var me=function(){var e=Object(n.useContext)(p),t=e.user,a=e.menu;console.log("NAV USER CONTEXT",t,a);var c=window.location.pathname;return r.a.createElement("div",{className:"nav-bar-overlay"},r.a.createElement(oe.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"xl"},r.a.createElement(oe.a.Brand,{href:"/"},"Book A Cook"),r.a.createElement(oe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(oe.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},r.a.createElement(ie.a,{className:"justify-content-end"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a.Link,{className:"/profile"===c?"active":"",href:"/profile"},t.firstName," ",t.lastName,r.a.createElement("img",{src:""===t.picture?"".concat($.a):"/api/get/image/".concat(t.picture),style:{width:"25px",height:"25px",borderRadius:"10px",margin:"0px 0px 0px 16px",objectFit:"cover"}})),r.a.createElement(ie.a.Link,{className:"/home"===c?"active":"",href:"/home"},"Home"),r.a.createElement(ie.a.Link,{className:"/cooks"===c?"active":"",href:"/cooks"},"Hire a Cook"),t.cook?r.a.createElement(ie.a.Link,{className:"/job-postings"===c?"active":"",href:"/job-postings"},"Apply for Jobs"):r.a.createElement(r.a.Fragment,null),r.a.createElement(ie.a.Link,{className:"/menu"===c?"active":"",href:"/menu"},"Menu"),r.a.createElement(se.a.Divider,null),r.a.createElement(h.a,{variant:"outline-danger",onClick:function(e){e.preventDefault(),localStorage.removeItem("user"),b.a.get("/logout"),window.location.href="/"},style:{margin:"0px 20px"}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a.Link,{className:"/cooks"===c?"active":"",href:"/cooks"},"Hire a Cook"),r.a.createElement(ie.a.Link,{className:"/menu"===c?"active":"",href:"/menu"},"Menu"),r.a.createElement(h.a,{variant:"outline-primary",onClick:function(e){e.preventDefault(),window.location.href="/login"},style:{margin:"0px 20px"}},"Login"))))))},ue=a(70);var pe=function(e){var t=e.children,a=(e.path,e.user),c=e.setUser,l=e.menu,o=e.setMenu,i=Object(ue.a)(e,["children","path","user","setUser","menu","setMenu"]),m=Object(s.g)();return Object(n.useEffect)((function(){var e=!0;return null===a&&b.a.get("/get-session").then((function(t){console.log("PrivateRoute.js info",t),t.data.userInfo||(console.log("Push"),localStorage.removeItem("user"),m.push("/login")),e&&(c(t.data.userInfo),o(t.data.menuInfo))})),function(){return e=!1}}),[m,o,c,a]),r.a.createElement(p.Provider,{value:{user:a,menu:l}},r.a.createElement(s.b,Object.assign({},i,{render:function(e){var a=e.location;return null!==localStorage.getItem("user")?t:r.a.createElement(s.a,{to:{pathname:"/login",state:{from:a}}})}})))},de=a(131),fe=a(68),Ee=a.n(fe),ve=Object(le.a)("pk_test_51GwKF8JLaX7NQDflmvuMhiPwEGcACEsKPTtpUjg5hlGQz5NDu70UZFEgiecFEVYD5afBSEuXOYXpKuqkP1bEGQ0e00ETnJiqXP");var ge=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),m=Object(o.a)(l,2),u=m[0],f=m[1];return Object(n.useEffect)((function(){var e=!0;return b.a.get("/get-session",{headers:{"Content-Type":"application/json"}}).then((function(t){console.log("App.js info",t),e&&(c(t.data.userInfo),f(t.data.menuInfo))})),function(){return e=!1}}),[f,c]),r.a.createElement(de.a,null,r.a.createElement(ee.Elements,{stripe:ve},r.a.createElement(i.a,null,r.a.createElement(p.Provider,{value:{user:a,menu:u}},r.a.createElement(me,null)),r.a.createElement("div",{className:"bgrd-img"},r.a.createElement("img",{src:Ee.a,alt:"cook"})),r.a.createElement(s.d,null,r.a.createElement(pe,{path:"/home",user:a,setUser:c,menu:u,setMenu:f},r.a.createElement(s.b,{exact:!0,strict:!0,component:A})),r.a.createElement(pe,{path:"/profile",user:a,setUser:c,menu:u,setMenu:f},r.a.createElement(s.b,{render:function(e){return r.a.createElement(H,null)}})),r.a.createElement(p.Provider,{value:{user:a,menu:u}},r.a.createElement(s.b,{path:"/",exact:!0,strict:!0,component:d}),r.a.createElement(s.b,{path:"/cooks",exact:!0,strict:!0,component:K}),r.a.createElement(s.b,{path:"/job-postings",exact:!0,strict:!0,component:B}),r.a.createElement(s.b,{path:"/user/profile",exact:!0,strict:!0,component:W}),r.a.createElement(s.b,{path:"/menu",exact:!0,strict:!0,component:ce}),r.a.createElement(s.b,{path:"/login",exact:!0,strict:!0,component:R}),r.a.createElement(s.b,{path:"/register",exact:!0,strict:!0,component:M}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[71,1,2]]]);
//# sourceMappingURL=main.355d3348.chunk.js.map